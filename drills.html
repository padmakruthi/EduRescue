<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Earthquake Drill - EduRescue</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: sans-serif; background: #f0f4f8; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; padding:2rem;}
    video { border-radius:1rem; border:4px solid #004D99; }
    .shake {
      animation: shake 0.5s infinite;
    }
    @keyframes shake {
      0% { transform: translate(0,0); }
      25% { transform: translate(-5px,5px); }
      50% { transform: translate(5px,-5px); }
      75% { transform: translate(-5px,-5px); }
      100% { transform: translate(5px,5px); }
    }
    #feedback { font-size:1.5rem; font-weight:bold; color:#16a34a; margin-top:1rem; display:none;}
  </style>
</head>
<body>
  <h1 class="text-3xl font-bold mb-6 text-center">Earthquake Drill</h1>
  <p class="text-gray-700 mb-4 text-center max-w-xl">Camera shakes simulating earthquake. Cover your head with your hands to be safe!</p>

  <!-- Video feed -->
  <video id="webcam" autoplay playsinline width="320" height="240"></video>

  <p id="feedback">âœ… Approved! You are safe.</p>

  <!-- Simulate camera shake -->
  <script>
    const video = document.getElementById('webcam');
    const feedback = document.getElementById('feedback');

    async function startWebcam() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        video.srcObject = stream;

        // Add shake animation
        video.classList.add('shake');

      } catch (err) {
        alert("Camera access denied or unavailable.");
      }
    }

    startWebcam();

    // Fake detection: simulate hands above head after 5 seconds
    // Replace with TensorFlow.js pose detection later
    setTimeout(() => {
      feedback.style.display = "block";
      video.classList.remove('shake');
    }, 5000);
  </script>
</body>
</html>
